<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>TE19BonusChromosonus</title>
    <!--Viktor Olsson TE19B -->
    <!-- Bootstrap 4 -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

    <style media="screen">
      html, body{
        margin:0;
      }
      .center{
        width: 10%;
        min-width: 60px;
        height: 5%;
        min-height: 30px;
        margin-left: calc(50% - 5%);
        margin-top: calc(25% - 2.5%);
        text-align: center;
      }
    </style>
  </head>
  <body>
    <button class="btn btn-primary center" id="play">BRUH</button>

    <article style="color:white;">
      <p>Bruh</p>
    </article>
<script type="text/javascript">
onload = function() {
if ('speechSynthesis' in window) {
  var synth = speechSynthesis;
  var flag = false;

  /* references to the buttons */
  var playEle = document.querySelector('#play');
  var pauseEle = document.querySelector('#pause');
  var stopEle = document.querySelector('#stop');

  /* click event handlers for the buttons */
  playEle.addEventListener('click', onClickPlay);
  pauseEle.addEventListener('click', onClickPause);
  stopEle.addEventListener('click', onClickStop);

  function onClickPlay() {
    if(!flag){
       flag = true;
       utterance = new SpeechSynthesisUtterance(
             document.querySelector('article').textContent);
       utterance.voice = synth.getVoices()[1];
       utterance.onend = function(){
           flag = false;
       };
       synth.speak(utterance);
   }
   if(synth.paused) { /* unpause/resume narration */
       synth.resume();
   }
  }
  function onClickPause() {
    if(synth.speaking && !synth.paused){ /* pause narration */
      synth.pause();
    }
  }
  function onClickStop() {
    if(synth.speaking){ /* stop narration */
    /* for safari */
    flag = false;
    synth.cancel();
    }
  }
}
else {
    /* speech synthesis not supported */
}
}
</script>
</body>
</html>
